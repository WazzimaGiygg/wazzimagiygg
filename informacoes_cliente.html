<!-- BotÃ£o para acessar o sistema apÃ³s cadastro completo -->
<div id="accessSystemBtn" style="display: none; margin-top: 20px; text-align: center;">
    <button onclick="accessSystem()" style="
        padding: 12px 30px;
        background: linear-gradient(135deg, #4CAF50, #45a049);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 600;
        transition: all 0.3s;
    ">
        ðŸš€ Acessar Sistema WZZM
    </button>
    <p style="font-size: 14px; opacity: 0.8; margin-top: 10px;">
        Cadastro completo! VocÃª agora pode acessar todas as funcionalidades.
    </p>
</div>

<script>
function accessSystem() {
    // Notificar o emulador
    if (window.parent) {
        window.parent.postMessage({
            type: 'accessSystem',
            userId: auth.currentUser?.uid
        }, '*');
    }
    
    // Redirecionar para o sistema principal
    if (window.parent && window.parent.loadPage) {
        window.parent.loadPage('index.html', true);
    } else {
        window.location.href = '../';
    }
}

// Mostrar botÃ£o se cadastro estiver completo
function checkAndShowAccessButton() {
    // Verificar se todos os campos obrigatÃ³rios estÃ£o preenchidos
    const requiredFields = [
        'displayFullName', 'displayCpf', 'displayBirthDate',
        'displayAddress', 'displayCity', 'displayState',
        'displayPhoneNumber', 'displayEmail'
    ];
    
    let allFieldsFilled = true;
    requiredFields.forEach(fieldId => {
        const element = document.getElementById(fieldId);
        if (element && element.textContent === 'N/A') {
            allFieldsFilled = false;
        }
    });
    
    if (allFieldsFilled) {
        document.getElementById('accessSystemBtn').style.display = 'block';
    }
}

// Chamar apÃ³s carregar os dados
setTimeout(checkAndShowAccessButton, 1000);
</script>
