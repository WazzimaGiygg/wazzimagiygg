<!DOCTYPE html>
<html>
<head>
    <title>Teste Firebase Login</title>
</head>
<body>
    <button id="loginBtn">Login com Google</button>
    <div id="status"></div>
    
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js"></script>
    
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDgm3YoP4HkIrTFOYGYgOR2VD58ctU2D_U",
            authDomain: "gespaimaspia.firebaseapp.com",
            projectId: "gespaimaspia",
            storageBucket: "gespaimaspia.firebasestorage.app",
            messagingSenderId: "245238673674",
            appId: "1:245238673674:web:2c1108fc499a3f1b0d0af3"
        };
        
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        
        document.getElementById('loginBtn').addEventListener('click', async () => {
            try {
                const provider = new firebase.auth.GoogleAuthProvider();
                const result = await auth.signInWithPopup(provider);
                document.getElementById('status').innerHTML = `
                    <h3>Login bem-sucedido!</h3>
                    <p>Email: ${result.user.email}</p>
                    <p>UID: ${result.user.uid}</p>
                `;
                console.log('Usuário:', result.user);
            } catch (error) {
                document.getElementById('status').innerHTML = `
                    <h3 style="color: red;">Erro no login!</h3>
                    <p>Código: ${error.code}</p>
                    <p>Mensagem: ${error.message}</p>
                `;
                console.error('Erro:', error);
            }
        });
        
        // Monitorar estado de autenticação
        auth.onAuthStateChanged(user => {
            console.log('Estado alterado:', user ? 'Logado' : 'Deslogado');
        });
    </script>
</body>
</html>
