<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Teste de Chave de Descriptografia</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        #resultado { 
            margin-top: 20px; 
            padding: 15px; 
            border: 1px solid #ccc; 
            white-space: pre-wrap;
            min-height: 100px;
        }
        .sucesso { background-color: #e6ffe6; border-color: #00cc00; }
        .erro { background-color: #ffe6e6; border-color: #cc0000; }
        input[type="text"] { width: 300px; padding: 10px; }
        button { padding: 10px 15px; cursor: pointer; }
    </style>
</head>
<body>

    <h1>Teste sua Chave de Criptografia</h1>
    
    <label for="chaveInput">Chave/Senha para Teste:</label><br>
    <input type="text" id="chaveInput" placeholder="Digite a chave original (ex: exemplo)" value="">
    <button onclick="testarChave()">Descriptografar</button>
    
    <h2>Resultado da Descriptografia:</h2>
    <div id="resultado">Aguardando teste...</div>

    <script>
    // ** CONTEÚDO CRIPTOGRAFADO FORNECIDO PELO USUÁRIO **
    const CONTEUDO_HASH = "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";
    const artigoContainer = document.getElementById('artigo-container');

    /**
     * Função para descriptografar o conteúdo.
     * @param {string} textoCifrado - O hash criptografado do HTML.
     * @param {string} chave - A chave de descriptografia (o 'uid' da URL).
     * @returns {string|null} O HTML descriptografado ou null em caso de falha.
     */
    function descriptografar(textoCifrado, chave) {
        try {
            // Usa a 'chave' do UID para descriptografar (AES)
            const bytes  = CryptoJS.AES.decrypt(textoCifrado, chave.trim());
            const htmlDescriptografado = bytes.toString(CryptoJS.enc.Utf8);
            
            // Se a descriptografia falhar, retorna null.
            if (!htmlDescriptografado || htmlDescriptografado.length === 0) {
                 return null;
            }
            return htmlDescriptografado;
        } catch (error) {
            console.error("Erro na descriptografia (Chave ou Hash inválidos):", error);
            return null;
        }
    }

    /**
     * Função principal para buscar, descriptografar e exibir o artigo.
     */
    async function buscarECompilarArtigo() {
        // 1. Obter os parâmetros da URL
        const urlParams = new URLSearchParams(window.location.search);
        
        // --- MUDANÇA: Usamos 'uid' como a chave de descriptografia ---
        const chave = urlParams.get('uid'); 

        // 2. Validação básica de presença da chave
        if (!chave) {
            artigoContainer.innerHTML = `
                <p class="mensagem-status mensagem-erro">
                    **Erro:** O link de acesso está incompleto. 
                    É necessário fornecer a chave de descriptografia como o parâmetro **uid**.
                    <br>Formato esperado: ?uid=sua_senha_aqui
                </p>`;
            return;
        }
        
        // 3. Simular a busca do conteúdo (usamos o hash hardcoded)
        const textoCifrado = CONTEUDO_HASH; 

        // 4. Descriptografar usando o valor do UID como a Chave
        const htmlDescriptografado = descriptografar(textoCifrado, chave); 

        if (htmlDescriptografado) {
            // 5. Compilar e Exibir o HTML
            // Adiciona a Chave (parcial) para referência
            const info = `<p style="font-style: italic; color: #666;">Chave usada (UID): ${chave.substring(0, 4)}...</p>`;
            artigoContainer.innerHTML = info + htmlDescriptografado;
            
        } else {
            // Falha na descriptografia (Chave incorreta)
            artigoContainer.innerHTML = `
                <p class="mensagem-status mensagem-erro">
                    **Erro de Acesso:** Falha na descriptografia.
                    A Chave fornecida ("${chave}") está incorreta.
                </p>`;
        }
    }

    window.onload = buscarECompilarArtigo;
</script>

</body>
</html>
