<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WebOS Simulado</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
body {
  margin: 0;
  background: linear-gradient(135deg, #1a1a1a, #333);
  font-family: 'Segoe UI', sans-serif;
  overflow: hidden;
  color: white;
}

/* Desktop */
#desktop {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 40px;
  display: flex;
  flex-wrap: wrap;
  padding: 10px;
  gap: 10px;
}

.desktop-icon {
  width: 80px;
  text-align: center;
  cursor: pointer;
  transition: transform 0.2s;
}
.desktop-icon:hover { transform: scale(1.1); }
.desktop-icon i {
  font-size: 28px;
  color: #00bcd4;
}
.desktop-icon span {
  display: block;
  font-size: 12px;
  margin-top: 4px;
}

/* Taskbar */
#taskbar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 40px;
  background: rgba(20, 20, 20, 0.9);
  display: flex;
  align-items: center;
  padding: 0 10px;
  z-index: 10000;
}

#start-button {
  background: #0078d7;
  border: none;
  color: white;
  font-weight: bold;
  padding: 6px 12px;
  border-radius: 4px;
  cursor: pointer;
  margin-right: 10px;
}

#taskbar-icons {
  flex-grow: 1;
  display: flex;
  gap: 10px;
}

.task-icon {
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
  background: rgba(255, 255, 255, 0.1);
  cursor: pointer;
}
.task-icon:hover { background: rgba(255,255,255,0.2); }

#clock {
  font-size: 12px;
}

/* Menu de Aplicativos */
#app-menu {
  position: fixed;
  bottom: 50px;
  left: 10px;
  width: 220px;
  background: rgba(30,30,30,0.95);
  border-radius: 10px;
  display: none;
  flex-direction: column;
  overflow: hidden;
  z-index: 9999;
  box-shadow: 0 0 10px rgba(0,0,0,0.5);
}
#app-menu a {
  color: white;
  padding: 10px;
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 8px;
}
#app-menu a:hover {
  background: rgba(255,255,255,0.1);
}

/* Janelas */
.window {
  position: absolute;
  background: rgba(40,40,40,0.95);
  border: 1px solid #555;
  border-radius: 10px;
  box-shadow: 0 0 20px rgba(0,0,0,0.6);
  min-width: 400px;
  min-height: 300px;
  display: flex;
  flex-direction: column;
  opacity: 0;
  transform: scale(0.98);
  transition: opacity 0.2s, transform 0.2s;
}
.window.show {
  opacity: 1;
  transform: scale(1);
}
.window-header {
  background: #0078d7;
  padding: 6px 10px;
  color: white;
  display: flex;
  align-items: center;
  border-radius: 10px 10px 0 0;
  cursor: move;
}
.window-header h2 {
  flex-grow: 1;
  font-size: 14px;
  margin: 0;
}
.window-controls {
  margin-left: auto;
  display: flex;
}
.window-controls button {
  background: none;
  border: none;
  color: white;
  cursor: pointer;
  margin-left: 6px;
  font-size: 14px;
  transition: color 0.2s;
}
.window-controls button:hover {
  color: #ffd700;
}
.window-content {
  flex-grow: 1;
  background: #222;
  overflow: auto;
  border-radius: 0 0 10px 10px;
}
.window-content iframe {
  width: 100%;
  height: 100%;
  border: none;
}

/* Explorador de Arquivos */
.explorer-toolbar {
  display: flex;
  gap: 6px;
  padding: 6px;
  background: #111;
}
.explorer-toolbar button {
  background: #444;
  border: none;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  cursor: pointer;
}
.explorer-toolbar button:hover {
  background: #666;
}
.explorer-path {
  font-size: 12px;
  padding: 4px 10px;
  background: #222;
}
.explorer-list {
  list-style: none;
  margin: 0;
  padding: 10px;
}
.explorer-item {
  padding: 6px;
  cursor: pointer;
  border-radius: 6px;
}
.explorer-item:hover {
  background: rgba(255,255,255,0.1);
}
</style>
</head>
<body>

<div id="desktop"></div>

<div id="taskbar">
  <button id="start-button"><i class="fa fa-bars"></i></button>
  <div id="taskbar-icons"></div>
  <div id="clock"></div>
</div>

<div id="app-menu"></div>

<script>
let windowCounter = 0;

/* ==== Aplicativos simulados ==== */
const apps = [
  { label: "Navegador", icon: "fa fa-globe", href: "https://example.com" },
  { label: "Explorador", icon: "fa fa-folder", href: "explorer" },
  { label: "Sobre", icon: "fa fa-info-circle", href: "about" }
];

/* ==== Renderizar Ícones na Área de Trabalho ==== */
const desktop = document.getElementById("desktop");
apps.forEach(app => {
  const icon = document.createElement("div");
  icon.className = "desktop-icon";
  icon.innerHTML = `<i class="${app.icon}"></i><span>${app.label}</span>`;
  icon.addEventListener("dblclick", () => openApp(app));
  desktop.appendChild(icon);
});

/* ==== Menu de Aplicativos ==== */
const appMenu = document.getElementById("app-menu");
apps.forEach(app => {
  const link = document.createElement("a");
  link.href = "#";
  link.innerHTML = `<i class="${app.icon}"></i>${app.label}`;
  link.addEventListener("click", () => {
    appMenu.style.display = "none";
    openApp(app);
  });
  appMenu.appendChild(link);
});

document.getElementById("start-button").addEventListener("click", () => {
  appMenu.style.display = appMenu.style.display === "flex" ? "none" : "flex";
});

/* ==== Relógio ==== */
function updateClock() {
  const now = new Date();
  const time = now.toLocaleTimeString("pt-BR", {hour: "2-digit", minute: "2-digit"});
  const date = now.toLocaleDateString("pt-BR");
  document.getElementById("clock").textContent = `${time} ${date}`;
}
setInterval(updateClock, 1000);
updateClock();

/* ==== Abrir Aplicativo ==== */
function openApp(app) {
  if (app.href === "explorer") {
    createWindow("Explorador de Arquivos", "explorer");
  } else if (app.href === "about") {
    createWindow("Sobre", "about");
  } else {
    createWindow(app.label, "iframe", app.href);
  }
}

/* ==== Criar Janela ==== */
function createWindow(title, type, contentURL = "") {
  const win = document.createElement("div");
  const id = `window-${windowCounter++}`;
  win.className = "window";
  win.style.top = `${100 + Math.random() * 50}px`;
  win.style.left = `${100 + Math.random() * 50}px`;
  win.id = id;
  win.innerHTML = `
    <div class="window-header">
      <h2>${title}</h2>
      <div class="window-controls">
        <button class="minimize"><i class="fa fa-minus"></i></button>
        <button class="maximize"><i class="fa fa-square"></i></button>
        <button class="close"><i class="fa fa-times"></i></button>
      </div>
    </div>
    <div class="window-content"></div>
  `;
  document.body.appendChild(win);
  setTimeout(() => win.classList.add("show"), 10);

  const content = win.querySelector(".window-content");
  if (type === "iframe") {
    content.innerHTML = `<iframe src="${contentURL}" title="${title}"></iframe>`;
  } else if (type === "about") {
    content.innerHTML = `<div style="padding:10px;">Este é um sistema WebOS simulado.</div>`;
  } else if (type === "explorer") {
    renderExplorer(content, fileSystem, "Raiz");
  }

  win.querySelector(".close").onclick = () => win.remove();
}

/* ==== Explorador de Arquivos ==== */
const fileSystem = {
  "Documentos": {type: "folder", content: {"arquivo1.txt": {type: "file", content: "Conteúdo do arquivo 1"}}},
  "Imagens": {type: "folder", content: {}},
  "Notas.txt": {type: "file", content: "Anotações gerais."}
};

function renderExplorer(container, currentDir, currentPath) {
  container.innerHTML = `
    <div class="explorer-toolbar">
      <button><i class="fa fa-arrow-left"></i> Voltar</button>
      <button><i class="fa fa-plus"></i> Novo</button>
      <button><i class="fa fa-eye"></i> Visualizar</button>
    </div>
    <div class="explorer-path">Caminho: <span>${currentPath}</span></div>
    <ul class="explorer-list"></ul>
  `;

  const list = container.querySelector(".explorer-list");
  Object.entries(currentDir).forEach(([name, item]) => {
    const li = document.createElement("li");
    li.className = "explorer-item";
    li.innerHTML = `<i class="fa ${item.type === 'folder' ? 'fa-folder' : 'fa-file'}"></i> ${name}`;
    li.addEventListener("dblclick", () => {
      if (item.type === "folder") {
        renderExplorer(container, item.content, `${currentPath}/${name}`);
      } else {
        alert(item.content);
      }
    });
    list.appendChild(li);
  });
}
</script>
</body>
</html>
