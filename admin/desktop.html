<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Desktop WazzimaGiygg - Simulador</title>
<style>
  :root{
    --bg:#0f1724;
    --panel:#0b1220;
    --accent:#0078d4;
    --glass: rgba(255,255,255,0.04);
    --text:#e6eef8;
    --muted:#9fb3d6;
    --taskbar:#071127;
    --window-shadow: 0 10px 30px rgba(2,6,23,0.6);
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  html,body{height:100%;margin:0;background:linear-gradient(180deg,#071226 0%, #071127 60%, #0b1530 100%);color:var(--text);overflow:hidden}
  .desktop{position:relative;height:calc(100vh - 40px);padding:18px;box-sizing:border-box;user-select:none;}

  .taskbar{
    position:fixed;bottom:0;left:0;right:0;height:40px;background:var(--taskbar);
    display:flex;align-items:center;gap:8px;padding:6px;box-shadow:0 -2px 12px rgba(0,0,0,0.6);z-index:50;
  }
  .start-btn,.admin-btn{
    display:flex;align-items:center;gap:8px;padding:6px 12px;border-radius:6px;
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.04));
    cursor:pointer;
  }
  .start-btn img,.admin-btn img{width:20px;height:20px;display:block}
  .taskbar-center{flex:1;display:flex;align-items:center;gap:8px;padding-left:8px}
  .taskbar .tb-item{height:28px;padding:4px 6px;border-radius:4px;display:flex;align-items:center;gap:8px;cursor:pointer}
  .tb-item img{width:20px;height:20px;display:block}

  .menu-popup{
    position:fixed;bottom:48px;left:8px;width:320px;background:var(--panel);
    border-radius:8px;padding:8px;box-shadow:0 8px 30px rgba(0,0,0,0.6);display:none;z-index:60;
  }
  .menu-popup .title{font-weight:600;margin-bottom:8px;color:var(--muted)}
  .menu-list{display:grid;grid-template-columns:1fr;gap:6px;max-height:60vh;overflow:auto;padding-right:4px}
  .menu-item{
    display:flex;align-items:center;gap:10px;padding:8px;border-radius:6px;cursor:pointer;
    transition:background .12s;
  }
  .menu-item:hover{background:var(--glass)}
  .menu-item img{width:28px;height:28px;border-radius:4px}

  .window{
    position:absolute;min-width:300px;min-height:180px;background:#fff;border-radius:6px;overflow:hidden;
    box-shadow:var(--window-shadow);display:flex;flex-direction:column;color:#0b1220;
    border:1px solid rgba(0,0,0,0.08);
  }
  .titlebar{
    display:flex;align-items:center;gap:8px;padding:6px 10px;background:linear-gradient(180deg,#f5f8fb,#eef6ff);
    cursor:grab;user-select:none;
  }
  .titlebar .title{flex:1;font-weight:600;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .titlebar img.icon{width:18px;height:18px;border-radius:3px}
  .titlebar .controls{display:flex;gap:6px}
  .btn{
    width:30px;height:26px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-weight:700;cursor:pointer;
  }
  .btn:hover{background:rgba(0,0,0,0.06)}
  .content{flex:1;background:white;display:flex;flex-direction:column;overflow:hidden}
  .content iframe{border:0;width:100%;height:100%}
  .resizer{width:12px;height:12px;position:absolute;right:2px;bottom:2px;cursor:nwse-resize;opacity:.2}
  .minimized{display:none}
  .window[data-active="true"]{box-shadow:0 18px 40px rgba(2,6,23,0.7);transform:translateY(-2px)}
</style>
</head>
<body>
  <div class="desktop" id="desktop"></div>

  <!-- Menu Iniciar -->
  <div class="menu-popup" id="startMenu">
    <div class="title">Iniciar</div>
    <div class="menu-list" id="startList"></div>
  </div>

  <!-- Menu Admin -->
  <div class="menu-popup" id="adminMenu" style="left:140px;">
    <div class="title">Admin Menu</div>
    <div class="menu-list" id="adminList"></div>
  </div>

  <!-- Barra de tarefas -->
  <div class="taskbar">
    <div class="start-btn" id="startBtn">
      <img src="iconmagic.png" alt="Iniciar"/>
      <div style="font-weight:600">Iniciar</div>
    </div>
    <div class="admin-btn" id="adminBtn">
      <img src="iconmagic.png" alt="Admin"/>
      <div style="font-weight:600">Admin</div>
    </div>
    <div class="taskbar-center" id="taskbarCenter"></div>
    <div style="color:var(--muted);padding-right:12px">WazzimaGiygg</div>
  </div>

<script>
const APPS = [
  { name: 'Termos de Serviço', url: 'https://wazzimagiygg.com/Termos%20de%20Servi%C3%A7o.pdf', iconUrl: 'iconmagic.png' },
  { name: 'Política de Privacidade', url: 'https://wazzimagiygg.com/Pol%C3%ADtica%20de%20Privacidade.pdf', iconUrl: 'iconmagic.png' },
  { name: 'Termos de Serviço da WIKI WAZZIMAGIYGG BRASIL', url: 'https://wazzimagiygg.com/html/?uid=42LLRmne0HAgdFtzzgwG', iconUrl: 'iconmagic.png' },
  { name: 'Manual de Políticas de Privacidade e Moderação', url: 'https://wazzimagiygg.com/html/?uid=9oD5c9P1uWmjI2C3bZSu', iconUrl: 'iconmagic.png' },
  { name: 'Manual de Políticas de direito de privacidade', url: 'https://wazzimagiygg.com/html/?uid=F5CmMQDbrTpipTZoqd2x', iconUrl: 'iconmagic.png' },
  { name: 'Direito de privacidade sobre WazzimaGiygg', url: 'https://wazzimagiygg.com/html/?uid=ik1hWPxqHKLjA13MIqVW', iconUrl: 'iconmagic.png' },
  { name: 'Voltar para WazzimaGiygg', url: 'https://wazzimagiygg.com/', iconUrl: 'iconmagic.png' },
  { name: 'Voltar para WazzimaGiygg (Admin)', url: 'https://wazzimagiygg.com/admin/nkpx.html', iconUrl: 'iconmagic.png' }
];

const ADMIN_LINKS = [
  { label: 'Página inicial', href: 'https://wazzimagiygg.com/admin/recepcao.html' },
  { label: 'Adicionar Artigo', href: 'https://wazzimagiygg.com/admin/admintools/editordeartigos.html' },
  { label: 'Conheça WazzimaGiygg', href: 'https://wazzimagiygg.com/admin/conhecawazzimagiygg.html' },
  { label: 'Ferramentas', href: 'https://wazzimagiygg.com/admin/ferramentasadministrativas.html' },
  { label: 'Chat Admin', href: 'https://wazzimagiygg.com/admin/chat/admin/' }
];

const desktop = document.getElementById('desktop');
const startMenu = document.getElementById('startMenu');
const adminMenu = document.getElementById('adminMenu');
const taskbarCenter = document.getElementById('taskbarCenter');
let zIndexCounter = 100;

function buildMenus() {
  const startList = document.getElementById('startList');
  startList.innerHTML = '';
  APPS.forEach(app => {
    const item = document.createElement('div');
    item.className = 'menu-item';
    item.innerHTML = `<img src="${app.iconUrl}"><div>${app.name}</div>`;
    item.onclick = () => { createWindow(app.name, app.url, app.iconUrl); hideMenus(); };
    startList.appendChild(item);
  });

  const adminList = document.getElementById('adminList');
  adminList.innerHTML = '';
  ADMIN_LINKS.forEach(a => {
    const item = document.createElement('div');
    item.className = 'menu-item';
    item.innerHTML = `<img src="iconmagic.png"><div>${a.label}</div>`;
    item.onclick = () => { createWindow(a.label, a.href, 'iconmagic.png'); hideMenus(); };
    adminList.appendChild(item);
  });
}

function hideMenus() {
  startMenu.style.display = 'none';
  adminMenu.style.display = 'none';
}
function toggleMenu(menu) {
  const visible = menu.style.display === 'block';
  hideMenus();
  if (!visible) menu.style.display = 'block';
}

document.getElementById('startBtn').onclick = e => { e.stopPropagation(); toggleMenu(startMenu); };
document.getElementById('adminBtn').onclick = e => { e.stopPropagation(); toggleMenu(adminMenu); };
document.body.onclick = () => hideMenus();

function createWindow(title, url, icon) {
  const win = document.createElement('div');
  win.className = 'window';
  win.style.left = '60px'; win.style.top = '60px'; win.style.width = '960px'; win.style.height = '640px';
  win.style.zIndex = ++zIndexCounter;
  win.innerHTML = `
    <div class="titlebar">
      <img class="icon" src="${icon}">
      <div class="title">${title}</div>
      <div class="controls">
        <div class="btn" data-act="min">—</div>
        <div class="btn" data-act="max">▢</div>
        <div class="btn" data-act="close">✕</div>
      </div>
    </div>
    <div class="content"><iframe src="${url}" sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe></div>
    <div class="resizer"></div>
  `;
  desktop.appendChild(win);
  makeDraggable(win);
  makeResizable(win);

  const minBtn = win.querySelector('[data-act="min"]');
  const maxBtn = win.querySelector('[data-act="max"]');
  const closeBtn = win.querySelector('[data-act="close"]');
  minBtn.onclick = () => win.classList.add('minimized');
  closeBtn.onclick = () => win.remove();
  maxBtn.onclick = () => toggleMax(win);
}

function toggleMax(win) {
  if (win.dataset.max === 'true') {
    win.style.left = win.dataset.prevLeft;
    win.style.top = win.dataset.prevTop;
    win.style.width = win.dataset.prevWidth;
    win.style.height = win.dataset.prevHeight;
    win.dataset.max = 'false';
  } else {
    const rect = win.getBoundingClientRect();
    win.dataset.prevLeft = win.style.left;
    win.dataset.prevTop = win.style.top;
    win.dataset.prevWidth = win.style.width;
    win.dataset.prevHeight = win.style.height;
    win.style.left = '0px';
    win.style.top = '0px';
    win.style.width = '100%';
    win.style.height = 'calc(100% - 40px)';
    win.dataset.max = 'true';
  }
}

function makeDraggable(win) {
  const bar = win.querySelector('.titlebar');
  let offsetX, offsetY, dragging = false;
  bar.onmousedown = e => {
    if (win.dataset.max === 'true') return; // não arrasta maximizada
    dragging = true;
    const rect = win.getBoundingClientRect();
    offsetX = e.clientX - rect.left;
    offsetY = e.clientY - rect.top;
  };
  document.onmousemove = e => {
    if (!dragging) return;
    win.style.left = e.clientX - offsetX + 'px';
    win.style.top = e.clientY - offsetY + 'px';
  };
  document.onmouseup = () => dragging = false;
}

function makeResizable(win) {
  const resizer = win.querySelector('.resizer');
  let startX, startY, startW, startH, resizing = false;
  resizer.onmousedown = e => {
    e.preventDefault();
    resizing = true;
    const rect = win.getBoundingClientRect();
    startX = e.clientX; startY = e.clientY;
    startW = rect.width; startH = rect.height;
  };
  document.onmousemove = e => {
    if (!resizing) return;
    win.style.width = startW + (e.clientX - startX) + 'px';
    win.style.height = startH + (e.clientY - startY) + 'px';
  };
  document.onmouseup = () => resizing = false;
}

buildMenus();
</script>
</body>
</html>
