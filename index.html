<!DOCTYPE html>
<html lang="pt-br">
<head>
ย ย <meta charset="UTF-8" />
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0" />
ย ย <title>WazzimaGiygg WZZM</title>
ย ย <link rel="icon" href="favicom.png" type="image/x-icon">
ย ย <style>
ย ย ย ย body {
ย ย ย ย ย ย margin: 0;
ย ย ย ย ย ย /* SEU PLANO DE FUNDO ESTร DEFINIDO AQUI: */
ย ย ย ย ย ย background: url('http://wazzimagiygg.com/condedmonddantรจs.png') center/cover no-repeat;
ย ย ย ย ย ย font-family: 'Segoe UI', sans-serif;
ย ย ย ย ย ย height: 100vh;
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย }

ย ย ย ย /* Barra de tarefas */
ย ย ย ย .taskbar {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย bottom: 0;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 40px;
ย ย ย ย ย ย background: rgba(20, 20, 20, 0.8);
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย /* Adicionado espaรงo entre elementos na taskbar */
ย ย ย ย ย ย justify-content: space-between;ย
ย ย ย ย ย ย padding: 0 10px;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย box-sizing: border-box;
ย ย ย ย }

ย ย ย ย /* Container dos botรตes Iniciar e Admin */
ย ย ย ย .taskbar-left {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย }
ย ย ย ยย
ย ย ย ย /* Estilo para o relรณgio na direita */
ย ย ย ย #clock {
ย ย ย ย ย ย padding: 0 10px;
ย ย ย ย ย ย text-align: right;
ย ย ย ย ย ย line-height: 1.2;
ย ย ย ย ย ย font-size: 0.85em;
ย ย ย ย }

ย ย ย ย .start-button {
ย ย ย ย ย ย background: rgba(40, 40, 40, 0.9);
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 5px 15px;
ย ย ย ย ย ย margin-right: 10px;
ย ย ย ย ย ย border-radius: 6px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย }

        /* CORREรรO 1: CSS Completo para o Menu de Contexto */
        #contextMenu {
            position: absolute;
            background: rgba(30, 30, 30, 0.95);
            color: white;
            border-radius: 8px;
            padding: 10px;
            width: 200px;
            z-index: 1000;
            display: none;
        }

ย ย ย ย .menu {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย bottom: 40px;
ย ย ย ย ย ย left: 10px;
ย ย ย ย ย ย background: rgba(30, 30, 30, 0.95);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย border-radius: 8px;
ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย width: 280px;
ย ย ย ย ย ย display: none;
ย ย ย ย }

ย ย ย ย .menu-item {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย padding: 6px;
ย ย ย ย ย ย border-radius: 6px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย transition: background 0.2s;
ย ย ย ย }

ย ย ย ย .menu-item:hover {
ย ย ย ย ย ย background: rgba(255, 255, 255, 0.15);
ย ย ย ย }

ย ย ย ย .menu-item img {
ย ย ย ย ย ย width: 20px;
ย ย ย ย ย ย height: 20px;
ย ย ย ย ย ย margin-right: 8px;
ย ย ย ย }

ย ย ย ย .window {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย top: 60px;
ย ย ย ย ย ย left: 60px;
ย ย ย ย ย ย width: 800px;
ย ย ย ย ย ย height: 500px;
ย ย ย ย ย ย background: white;
ย ย ย ย ย ย border: 1px solid #666;
ย ย ย ย ย ย box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย resize: both;
ย ย ย ย ย ย overflow: hidden;
ย ย ย ย ย ย border-radius: 8px;
ย ย ย ย }

ย ย ย ย .window-header {
ย ย ย ย ย ย background: #0078d7;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 6px 10px;
ย ย ย ย ย ย cursor: move;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: space-between;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย user-select: none;
ย ย ย ย }

ย ย ย ย .window-controls button {
ย ย ย ย ย ย background: transparent;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย font-weight: bold;
ย ย ย ย ย ย margin-left: 5px;
ย ย ย ย }

ย ย ย ย .window iframe {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย border: none;
ย ย ย ย }

ย ย ย ย /* Tela de login */
ย ย ย ย #login-screen {
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย left: 0;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย height: 100%;
ย ย ย ย ย ย background: rgba(0, 0, 0, 0.8);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย justify-content: center;
ย ย ย ย ย ย flex-direction: column;
ย ย ย ย ย ย z-index: 9999;
ย ย ย ย }

ย ย ย ย #login-screen h2 {
ย ย ย ย ย ย /* Tรญtulo alterado no HTML */
ย ย ย ย }

ย ย ย ย #login-screen p {
ย ย ย ย ย ย /* Parรกgrafo alterado no HTML */
ย ย ย ย }

ย ย ย ย #login-screen button {
ย ย ย ย ย ย padding: 10px 20px;
ย ย ย ย ย ย background: #0078d7;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย border-radius: 6px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย margin-top: 15px;
ย ย ย ย }

ย ย ย ย /* Popup admin */
ย ย ย ย .admin-popup {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย bottom: 50px;
ย ย ย ย ย ย left: 100px;
ย ย ย ย ย ย width: 320px;
ย ย ย ย ย ย background: rgba(40, 40, 40, 0.95);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย border-radius: 8px;
ย ย ย ย ย ย padding: 10px;
ย ย ย ย ย ย display: none;
ย ย ย ย }

ย ย ย ย .admin-popup a {
ย ย ย ย ย ย display: block;
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 6px;
ย ย ย ย ย ย border-radius: 6px;
ย ย ย ย ย ย text-decoration: none;
ย ย ย ย }

ย ย ย ย .admin-popup a:hover {
ย ย ย ย ย ย background: rgba(255, 255, 255, 0.15);
ย ย ย ย }
ย ย </style>
</head>
<body>

ย ย <div id="login-screen">
ย ย ย ย <h2>Bem-vindo(a) ao WazzimaGiygg WZZM</h2>
ย ย ย ย <p>Faรงa login para acessar a รกrea de trabalho</p>
ย ย ย ย <button id="loginBtn">Entrar com Google</button>
ย ย </div>

ย ย <div id="desktop">
ย ย ย ย <div class="taskbar">
ย ย ย ย ย ย <div class="taskbar-left">
ย ย ย ย ย ย ย ย <button class="start-button" id="startBtn">Iniciar</button>
ย ย ย ย ย ย ย ย <button class="start-button" id="adminBtn">Wiki Not Pรฉdia</button>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <div id="clock"></div>
ย ย ย ย </div>

ย ย ย ย <div class="menu" id="startMenu"></div>
ย ย ย ย <div class="admin-popup" id="adminMenu"></div>
ย ย ย ย ย ย ย ย <div class="menu" id="contextMenu"></div>
ย ย </div>

ย ย <script type="module">
ย ย // ๐น Firebase Auth Config
ย ย import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
ย ย import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

ย ย const firebaseConfig = {
ย ย ย ย apiKey: "AIzaSyB9GkSqTIZ0kbVsba_WOdQeVAETrF9qna0", // Chave de API removida por seguranรงa
ย ย ย ย authDomain: "wzzm-ce3fc.firebaseapp.com",
ย ย ย ย projectId: "wzzm-ce3fc",
ย ย ย ย storageBucket: "wzzm-ce3fc.appspot.com",
ย ย ย ย messagingSenderId: "249427877153",
ย ย ย ย appId: "1:249427877153:web:0e4297294794a5aadeb260",
ย ย ย ย measurementId: "G-PLKNZNFCQ8"
ย ย };

ย ย const app = initializeApp(firebaseConfig);
ย ย const auth = getAuth(app);
ย ย const provider = new GoogleAuthProvider();

ย ย // โ REMOVIDO: adminUIDs nรฃo รฉ mais necessรกrio
ย ย // const adminUIDs = [ "6aPqWVh8JVYL5NqEb78iDGPD7dH3", "sZxfMuOBPbXdR8nttVPXIN8QOOl1" ];


ย ย const loginScreen = document.getElementById("login-screen");
ย ย const loginBtn = document.getElementById("loginBtn");
ย ย const desktop = document.getElementById("desktop");
ย ย const startMenu = document.getElementById("startMenu");
ย ย const adminMenu = document.getElementById("adminMenu");
ย ย const clockElement = document.getElementById("clock");
ย ย const contextMenu = document.getElementById("contextMenu");
ย ย ย ยย
ย ย loginBtn.addEventListener("click", () => {
ย ย ย ย signInWithPopup(auth, provider);
ย ย });

ย ย // โ Lรณgica Alterada: Qualquer usuรกrio logado (user) terรก acesso
ย ย onAuthStateChanged(auth, (user) => {
ย ย ย ย if (user) {
ย ย ย ย ย ย // Se houver um usuรกrio logado (qualquer um), exibe o desktop
ย ย ย ย ย ย loginScreen.style.display = "none";
ย ย ย ย ย ย desktop.style.display = "block";
ย ย ย ย ย ย updateClock();ย
ย ย ย ย } else {
ย ย ย ย ย ย // Se nรฃo houver usuรกrio logado, exibe a tela de login
ย ย ย ย ย ย loginScreen.style.display = "flex";
ย ย ย ย ย ย desktop.style.display = "none";
ย ย ย ย }
ย ย });

ย ย // ๐น Itens do menu principal (com a opรงรฃo Logoff)
ย ย const links = [
ย ย ย ย { name: 'Termos de Serviรงo', url: 'https://wazzimagiygg.com/Termos%20de%20Servi%C3%A7o.pdf', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Polรญtica de Privacidade', url: 'https://wazzimagiygg.com/Pol%C3%ADtica%20de%20Privacidade.pdf', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Area do colaborador', url: 'https://wazzimagiygg.com/html/?uid=CKWtV1wmyHKNw6ie7qAh', iconUrl: 'iconmagic.png' },ยย
ย ย ย ย { name: 'Area escolar', url: 'escolar/', iconUrl: 'iconmagic.png' },ยย
ย ย ย ย { name: 'Manual de Polรญticas de direito de privacidade ', url: 'https://wazzimagiygg.com/html/?uid=F5CmMQDbrTpipTZoqd2x', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Direito de privacidade sobre WazzimaGiygg', url: 'https://wazzimagiygg.com/html/?uid=ik1hWPxqHKLjA13MIqVW', iconUrl: 'iconmagic.png' },ย
ย ย ย ย { name: 'Quem somos nรณs?', url: 'https://wazzimagiygg.com/html/?uid=84TOyGBBxrsuzjWLyLwU', iconUrl: 'iconmagic.png' },ย
ย ย ย ย { name: 'Blog Leia e Compreenda', url: 'https://leiacompreenda.blogspot.com/', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Fale com a Administraรงรฃo', url: 'contato/', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Wiki Not Pedia', url: 'wnpx.html', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Canal do Youtube', url: 'https://www.youtube.com/@wikiwizzardmodelcoop', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Logoff (Sair)', action: 'logout', iconUrl: 'iconmagic.png' } //
ย ย ];

ย ย // ๐น Itens do NOVO Menu de Contexto
ย ย const contextMenuItems = [
ย ย ย ย { name: 'Personalizar', action: 'personalize', iconUrl: 'iconmagic.png' }, 
ย ย ย ย { name: 'Criar novo atalho', action: 'create_shortcut', iconUrl: 'iconmagic.png' },
ย ย ย ย { name: 'Janelas Abertas', action: 'show_windows', iconUrl: 'iconmagic.png' }
ย ย ];
ย ย ย ยย
ย ย // ๐น Menu admin separado
ย ย const adminLinks = [
ย ย ย ย { label: "Pรกgina inicial", href: "https://wazzimagiygg.com/admin/recepcao.html" },
ย ย ย ย { label: "Espaรงo Cliente", href: "https://wazzimagiygg.com/cw22.html" },
ย ย ย ย { label: "Chat (Contato)", href: "https://wazzimagiygg.com/contato.html" },
ย ย ย ย { label: "Acessรณrios", href: "https://wazzimagiygg.com/tools/" }
ย ย ];

ย ยย
ย ย links.forEach(item => {
ย ย ย ย const div = document.createElement("div");
ย ย ย ย div.className = "menu-item";
ย ย ย ย div.innerHTML = `<img src="${item.iconUrl}" alt="icon"> ${item.name}`;
ย ย ย ยย
ย ย ย ย div.onclick = () => {
ย ย ย ย ย ย if (item.action === 'logout') {
ย ย ย ย ย ย ย ย handleLogout();ย
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย openWindow(item.name, item.url);
ย ย ย ย ย ย }
ย ย ย ย ย ย startMenu.style.display = "none";ย
ย ย ย ย };
ย ย ย ย startMenu.appendChild(div);
ย ย });

ย ย // Populando o novo menu de contexto
ย ย contextMenuItems.forEach(item => {
ย ย ย ย const div = document.createElement("div");
ย ย ย ย div.className = "menu-item"; // Reutilizando o estilo existente
ย ย ย ย div.innerHTML = `<img src="${item.iconUrl}" alt="icon"> ${item.name}`;

ย ย ย ย div.onclick = () => {
ย ย ย ย ย ย handleContextMenuAction(item.action, item.name);
ย ย ย ย ย ย contextMenu.style.display = "none";
ย ย ย ย };
ย ย ย ย contextMenu.appendChild(div);
ย ย });
ย ย ย ยย
ย ย // Usando openWindow para o menu Admin
ย ย adminLinks.forEach(link => {
ย ย ย ย const a = document.createElement("a");
ย ย ย ย a.textContent = link.label;
ย ย ย ย a.style.cursor = 'pointer';ย
ย ย ย ย a.onclick = (e) => {
ย ย ย ย ย ย e.preventDefault();ย
ย ย ย ย ย ย openWindow(link.label, link.href);ย
ย ย ย ย ย ย adminMenu.style.display = "none";ย
ย ย ย ย };
ย ย ย ย adminMenu.appendChild(a);
ย ย });

ย ย const startBtn = document.getElementById("startBtn");
ย ย const adminBtn = document.getElementById("adminBtn");

ย ย startBtn.onclick = () => {
ย ย ย ย startMenu.style.display = startMenu.style.display === "block" ? "none" : "block";
ย ย ย ย adminMenu.style.display = "none";
ย ย ย ย contextMenu.style.display = "none"; // Esconde o menu de contexto
ย ย };

ย ย adminBtn.onclick = () => {
ย ย ย ย adminMenu.style.display = adminMenu.style.display === "block" ? "none" : "block";
ย ย ย ย startMenu.style.display = "none";
ย ย ย ย contextMenu.style.display = "none"; // Esconde o menu de contexto
ย ย };

ย ย function handleLogout() {
ย ย ย ย signOut(auth).then(() => {
ย ย ย ย ย ย // O onAuthStateChanged listener cuidarรก de mostrar a tela de login
ย ย ย ย }).catch((error) => {
ย ย ย ย ย ย console.error("Erro ao sair:", error);
ย ย ย ย ย ย alert("Erro ao tentar fazer logoff.");
ย ย ย ย });
ย ย }

ย ย // Funรงรฃo para atualizar o relรณgioย
ย ย function updateClock() {
ย ย ย ย const now = new Date();
ย ย ย ยย
ย ย ย ย // Formato da hora (HH:MM)
ย ย ย ย const timeString = now.toLocaleTimeString('pt-BR', {ย
ย ย ย ย ย ย hour: '2-digit',ย
ย ย ย ย ย ย minute: '2-digit',ย
ย ย ย ย ย ย hour12: false // Formato 24h
ย ย ย ย });
ย ย ย ยย
ย ย ย ย // Formato da data (DD/MM)
ย ย ย ย const dateString = now.toLocaleDateString('pt-BR', {ย
ย ย ย ย ย ย day: '2-digit',ย
ย ย ย ย ย ย month: '2-digit'ย
ย ย ย ย });

ย ย ย ย // Atualiza o conteรบdo do elemento #clock
ย ย ย ย clockElement.innerHTML = `<span>${timeString}</span><br><span>${dateString}</span>`;

ย ย ย ย // Agenda a prรณxima atualizaรงรฃo em 1 segundo
ย ย ย ย setTimeout(updateClock, 1000);
ย ย }

    // CORREรรO 3: Funรงรฃo handleContextMenuAction definida no escopo principal
ย ย function handleContextMenuAction(action, name) {
ย ย ย ย // Implemente a funcionalidade aqui
ย ย ย ย switch (action) {
ย ย ย ย ย ย case 'personalize':
ย ย ย ย ย ย ย ย openWindow(name, 'https://wazzimagiygg.com/customization.html'); // Exemplo
ย ย ย ย ย ย ย ย break;
ย ย ย ย ย ย case 'create_shortcut':
ย ย ย ย ย ย ย ย alert("Funcionalidade: Criar novo atalho (a ser implementada).");
ย ย ย ย ย ย ย ย break;
ย ย ย ย ย ย case 'show_windows':
ย ย ย ย ย ย ย ย // Esta รฉ a opรงรฃo "Janelas Abertas". Vocรช precisaria de um array global 
                // para rastrear janelas abertas para implementรก-la de forma completa.
ย ย ย ย ย ย ย ย alert("Funcionalidade: Mostrar Janelas Abertas (a ser implementada).");
ย ย ย ย ย ย ย ย break;
ย ย ย ย }
ย ย }
    
    // CORREรรO 3: Evento de clique com o botรฃo direito (contextmenu) no corpo (desktop)
ย ย document.body.addEventListener('contextmenu', (e) => {
ย ย ย ย // ๐ Previne o menu de contexto padrรฃo do navegador
ย ย ย ย e.preventDefault();ย
ย ย ย ยย
ย ย ย ย // Esconde outros menus
ย ย ย ย startMenu.style.display = "none";
ย ย ย ย adminMenu.style.display = "none";

ย ย ย ย // Posiciona e exibe o novo menu
ย ย ย ย contextMenu.style.left = e.clientX + 'px';
ย ย ย ย contextMenu.style.top = e.clientY + 'px';
ย ย ย ย contextMenu.style.display = "block";
ย ย });

ย ย // Esconder o menu de contexto e outros menus ao clicar em qualquer lugar
ย ย document.addEventListener('click', (e) => {
ย ย ย ย if (e.target.closest('#contextMenu') === null) {
ย ย ย ย ย ย contextMenu.style.display = "none";
ย ย ย ย }
ย ย ย ย // Adicionalmente, esconder os outros menus se o clique for fora deles
        if (e.target.closest('#startMenu') === null && e.target.id !== 'startBtn') {
ย ย ย ย ย startMenu.style.display = 'none';
ย ย ย ย }
ย ย ย ย if (e.target.closest('#adminMenu') === null && e.target.id !== 'adminBtn') {
ย ย ย ย ย adminMenu.style.display = 'none';
ย ย ย ย }
ย ย });

    // A funรงรฃo openWindow, agora limpa para ser reusada
ย ย function openWindow(title, url) {
ย ย ย ย const win = document.createElement("div");
ย ย ย ย win.className = "window";
ย ย ย ย win.innerHTML = `
ย ย ย ย ย ย <div class="window-header">
ย ย ย ย ย ย ย ย <span>${title}</span>
ย ย ย ย ย ย ย ย <div class="window-controls">
ย ย ย ย ย ย ย ย ย ย <button class="minimize">โ</button>
ย ย ย ย ย ย ย ย ย ย <button class="maximize">โฌ</button>
ย ย ย ย ย ย ย ย ย ย <button class="close">โ</button>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <iframe src="${url}"></iframe>
ย ย ย ย `;
ย ย ย ย document.body.appendChild(win);

ย ย ย ย // ... (cรณdigo de drag, resize e controles da janela) ...
ย ย ย ย const header = win.querySelector(".window-header");
ย ย ย ย const iframe = win.querySelector("iframe");
ย ย ย ย let isDragging = false;
ย ย ย ย let offsetX, offsetY;
ย ย ย ย let maximized = false;
ย ย ย ย let prev = { top: 0, left: 0, width: 0, height: 0 };

ย ย ย ย header.addEventListener("mousedown", (e) => {
ย ย ย ย ย ย isDragging = true;
ย ย ย ย ย ย offsetX = e.clientX - win.offsetLeft;
ย ย ย ย ย ย offsetY = e.clientY - win.offsetTop;
ย ย ย ย });

ย ย ย ย document.addEventListener("mousemove", (e) => {
ย ย ย ย ย ย if (isDragging && !maximized) {
ย ย ย ย ย ย ย ย win.style.left = e.clientX - offsetX + "px";
ย ย ย ย ย ย ย ย win.style.top = e.clientY - offsetY + "px";
ย ย ย ย ย ย }
ย ย ย ย });

ย ย ย ย document.addEventListener("mouseup", () => isDragging = false);

ย ย ย ย win.querySelector(".close").onclick = () => win.remove();
ย ย ย ย win.querySelector(".minimize").onclick = () => win.style.display = "none";
ย ย ย ย win.querySelector(".maximize").onclick = () => {
ย ย ย ย ย ย if (!maximized) {
ย ย ย ย ย ย ย ย prev = { top: win.offsetTop, left: win.offsetLeft, width: win.offsetWidth, height: win.offsetHeight };
ย ย ย ย ย ย ย ย win.style.top = "0";
ย ย ย ย ย ย ย ย win.style.left = "0";
ย ย ย ย ย ย ย ย win.style.width = "100%";
ย ย ย ย ย ย ย ย win.style.height = "calc(100% - 40px)";
ย ย ย ย ย ย ย ย maximized = true;
ย ย ย ย ย ย } else {
ย ย ย ย ย ย ย ย win.style.top = prev.top + "px";
ย ย ย ย ย ย ย ย win.style.left = prev.left + "px";
ย ย ย ย ย ย ย ย win.style.width = prev.width + "px";
ย ย ย ย ย ย ย ย win.style.height = prev.height + "px";
ย ย ย ย ย ย ย ย maximized = false;
ย ย ย ย ย ย }
ย ย ย ย };
ย ย }
ย ย </script>

</body>
</html>
